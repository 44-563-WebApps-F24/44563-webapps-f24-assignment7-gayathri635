<!DOCTYPE html>
<html lang="en">

<head>
    <title>All about Safari</title>
    <h2>Gayathri Netapalli goes on safari</h2>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body>
    <div class="alert alert-info">Click on the locations to find rare animals, watch out for the lion.</div>
    <div class="alert alert-info" id="locations">Number of locations checked is zero.</div>
    <div class="alert alert-primary" id="score">Score is zero.</div>
    <div class="alert alert-warning" id="help-result" onclick="help()">Click for help.</div>
    <div class="alert alert-warning" id="help" style="display: none;">Help report</div>
    <div class="container">
        <div class="game-field">
            <div class="row">
                <div class="col-2">
                    <div class="card"><img id="img0" onclick="check(0)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img1" onclick="check(1)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img2" onclick="check(2)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img3" onclick="check(3)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img4" onclick="check(4)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img5" onclick="check(5)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
            </div>
            <p> </p>
            <div class="row">
                <div class="col-2">
                    <div class="card"><img id="img6" onclick="check(6)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img7" onclick="check(7)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img8" onclick="check(8)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img9" onclick="check(9)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img10" onclick="check(10)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img11" onclick="check(11)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
            </div>
            <p> </p>
            <div class="row">
                <div class="col-2">
                    <div class="card"><img id="img12" onclick="check(12)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img13" onclick="check(13)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img14" onclick="check(14)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img15" onclick="check(15)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img16" onclick="check(16)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img17" onclick="check(17)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
            </div>
            <p> </p>
            <div class="row">
                <div class="col-2">
                    <div class="card"><img id="img18" onclick="check(18)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img19" onclick="check(19)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img20" onclick="check(20)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img21" onclick="check(21)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img22" onclick="check(22)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img23" onclick="check(23)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
            </div>
            <p> </p>
            <div class="row">
                <div class="col-2">
                    <div class="card"><img id="img24" onclick="check(24)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img25" onclick="check(25)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img26" onclick="check(26)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img27" onclick="check(27)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img28" onclick="check(28)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img29" onclick="check(29)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
            </div>
            <p> </p>
            <div class="row">
                <div class="col-2">
                    <div class="card"><img id="img30" onclick="check(30)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img31" onclick="check(31)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img32" onclick="check(32)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img33" onclick="check(33)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img34" onclick="check(34)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
                <div class="col-2">
                    <div class="card"><img id="img35" onclick="check(35)" src="Tree.jpg" class="card-img-top" alt="Tree"
                            width="150" height="150">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const ids = [];
        let score = 0;
        let locationsVisited = 0;
        let lastLocation = -1;
        let zebraLocations = [];
        let lionLocation = -1;
        let gameOver = false;

        // Initialize game
        function initializeGame() {
            // Randomly set lion and zebra locations
            lionLocation = Math.floor(Math.random() * 36);
            do {
                zebraLocations = Array.from({ length: 5 }, () => Math.floor(Math.random() * 36));
            } while (zebraLocations.includes(lionLocation) || new Set(zebraLocations).size !== zebraLocations.length);

            for (let i = 0; i < 36; i++) {
                const img = document.getElementById(`img${i}`);
                img.src = 'Tree.jpg'; // Set initial image to tree
                ids.push(`img${i}`);
            }
            document.getElementById('locations').innerText = `Number of locations checked is ${locationsVisited}.`;
            document.getElementById('score').innerText = `Score is ${score}.`;
        }

        // Move lion and check interactions
        function check(position) {
            if (gameOver) return;

            if (position === lionLocation) {
                alert("Game Over! You found the lion.");
                const imgElement = document.getElementById(`img${lionLocation}`);
                imgElement.src = 'Lion.jpeg'; // Show lion image
                gameOver = true;
                return;
            }

            // Move the lion randomly
            const directions = [-1, 1, -6, 6]; // left, right, up, down
            const direction = directions[Math.floor(Math.random() * directions.length)];
            const newLionLocation = (lionLocation + direction + 36) % 36;

            // Validate new lion location (no wrap around to the opposite side of the grid)
            if (Math.abs(newLionLocation - lionLocation) === 1 && Math.floor(newLionLocation / 6) === Math.floor(lionLocation / 6)) {
                lionLocation = newLionLocation;
            }

            const imageId = ids[position];
            const imgElement = document.getElementById(imageId);
            locationsVisited += 1;
            lastLocation = position;

            if (zebraLocations.includes(position)) {
                imgElement.src = 'Zebra.jpeg';
                score += 4;
                zebraLocations = zebraLocations.filter(zebraPos => zebraPos !== position); // Remove zebra
            } else {
                imgElement.src = 'Elephant.jpeg';
                score += 1;
            }

            document.getElementById('locations').innerText = `Number of locations checked is ${locationsVisited}.`;
            document.getElementById('score').innerText = `Score is ${score}.`;
        }

        // Provide help
        function help() {
            let result = '';
            let closestPositions = [lastLocation - 1, lastLocation + 1, lastLocation - 6, lastLocation + 6];
            closestPositions = closestPositions.map(pos => (pos + 36) % 36);

            if (closestPositions.some(pos => zebraLocations.includes(pos))) {
                result = 'I see stripes';
            } else {
                const lionRow = Math.floor(lionLocation / 6);
                const lionCol = lionLocation % 6;
                const lastRow = Math.floor(lastLocation / 6);
                const lastCol = lastLocation % 6;

                if (Math.abs(lionRow - lastRow) <= 1 && Math.abs(lionCol - lastCol) <= 1) {
                    result = 'Rawr';
                } else {
                    result = 'Itâ€™s grey';
                }
            }

            document.getElementById('help').innerText = `Help report: ${result}`;
            document.getElementById('help').style.display = 'block'; // Show help
        }

        // Start the game
        initializeGame();
    </script>

</body>

</html>